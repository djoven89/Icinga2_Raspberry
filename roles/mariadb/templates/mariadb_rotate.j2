/var/log/mysql/error.log
{
	weekly
	rotate 12
	missingok
    notifempty
	create 640 mysql adm
	compress
    dateext
    dateyesterday

	sharedscripts
	postrotate
          test -x /usr/bin/mysqladmin || exit 0
          if [ -f `my_print_defaults --mysqld | grep -m 1 -oP "pid-file=\K.+$"` ]; then
            # If this fails, check debian.conf!
            mysqladmin --defaults-file=/etc/mysql/debian.cnf --local flush-error-log \
              flush-engine-log flush-general-log flush-slow-log
          fi
	endscript
}

/var/log/mysql/mariadb_general.log /var/log/mysql/mariadb_slow.log
{
	daily
	rotate 30
	missingok
    notifempty
	create 640 mysql adm
	compress
    dateext
    dateyesterday

	sharedscripts
	postrotate
          test -x /usr/bin/mysqladmin || exit 0
          if [ -f `my_print_defaults --mysqld | grep -m 1 -oP "pid-file=\K.+$"` ]; then
            # If this fails, check debian.conf!
            mysqladmin --defaults-file=/etc/mysql/debian.cnf --local flush-error-log \
              flush-engine-log flush-general-log flush-slow-log
          fi
	endscript
}